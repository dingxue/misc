<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>2019 wishlist</title>
    <style>
        * {
            font-family: "Courier New";
            font-size: 16px;
            line-height: 1.5em;
            margin: 0;
            padding: 0;
        }

        body {
            padding: 10px 40px;
        }

        span {
            display: inline-block;
            width: 100px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid #21B56F;
            background: linear-gradient(#66f9cf, #66f9cf) no-repeat;
            vertical-align: text-bottom;
            text-align: center;
            color: #228844;
            font-size: 12px;
        }

        #op {
            border-bottom: 1px solid #ccc;
            padding-left: 20px;
        }

        #op span {
            width: 200px;
        }

        button {
            width: 120px;
            border: 1px solid #ccc;
            background-color: #eee;
            cursor: pointer;
            margin-bottom: -2px;
            padding-top: 6px;
            outline: none;
        }

        button.cur {
            border-bottom-color: #fff;
            background-color: #fff;
        }

        li {
            list-style: none;
            margin: 10px 20px;
        }

        li strong {
            font-weight: normal;
        }

        li.note strong {
            cursor: pointer;
        }

        li ul {
            border-left: 2px solid #ccc;
            margin-left: 120px;
            display: none;
        }

        li li,
        li a {
            font-size: 14px;
            line-height: 1em;
        }
    </style>
</head>

<body>
    <div id="op">
        <button id="btn0" onclick="show(0)">全部</button>
        <button id="btn1" onclick="show(1)">待完成</button>
        <button id="btn2" onclick="show(2)">已完成</button>
        <span id="total_progress"></span>
    </div>
    <ul id="list"></ul>
    <script>
        var data = [{
                "id": 1,
                "title": "全家去旅游一次",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 2,
                "title": "带父母去旅游一次",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 3,
                "title": "全家去一次大兴野生动物园",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 4,
                "title": "全家去一次游乐场",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 5,
                "title": "全家去一次十渡誓言玻璃栈道",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 6,
                "title": "从钉子塔上俯看北京城",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 7,
                "title": "去一次十三陵",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 8,
                "title": "去一个未曾去过的省份",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 9,
                "title": "坐一次天津之眼",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 10,
                "title": "看一次泰山日出",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 11,
                "title": "去一次艺术博物馆",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 12,
                "title": "滑一次雪",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 13,
                "title": "学会游泳",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 14,
                "title": "在球类运动上消耗20个小时",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 15,
                "title": "去健身房30次",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 16,
                "title": "骑自行车上班3次",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 17,
                "title": "打破2018年日最高步数纪录（30116）",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 18,
                "title": "练完去年剩下的八本字帖",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 19,
                "title": "读完40本书",
                "progress": 2.5,
                "ctime": "",
                "notes": [
                    "0102: 《魔鬼经济学1》史蒂芬•列维特 / 史蒂芬•都伯纳",
                ]
            },
            {
                "id": 20,
                "title": "读一本管理类书籍",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 21,
                "title": "读一本商业类书籍",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 22,
                "title": "读一本技术类书籍",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 23,
                "title": "读一本出版的小说",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 24,
                "title": "读一部网络小说",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 25,
                "title": "在豆瓣写40篇书评",
                "progress": 2.5,
                "ctime": "",
                "notes": [
                    "0102: 《魔鬼经济学1》<a href=\"https://book.douban.com/review/9867698/\">不一样的经济学</a>",
                ]
            },
            {
                "id": 26,
                "title": "参加一次线下读书会",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 27,
                "title": "参加一次正式的管理培训课程",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 28,
                "title": "完成一门在线课程",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 29,
                "title": "约三次在行的行家沟通",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 30,
                "title": "学习一项特别的技能",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 31,
                "title": "考一个随便什么的证书",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 32,
                "title": "做一次全面体检",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 33,
                "title": "拔掉左下的智齿",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 34,
                "title": "体重降到74.5公斤以下(BMI23以下)",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 35,
                "title": "内脏脂肪指数降到6",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 36,
                "title": "带世博看一次儿童剧",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 37,
                "title": "带世博去影院看一次英文原版电影",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 38,
                "title": "带世博去一次人文类博物馆",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 39,
                "title": "和世博完成一本书的亲子阅读",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 40,
                "title": "带世扬看一次儿童剧",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 41,
                "title": "带世扬去一次自然类博物馆",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 42,
                "title": "和世扬完成一本书的亲子阅读",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 43,
                "title": "和媳妇看一次话剧/舞台剧",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 44,
                "title": "和媳妇听一次演唱会",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 45,
                "title": "和媳妇听一次音乐会",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 46,
                "title": "拍结婚十周年纪念照",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 47,
                "title": "买一套家庭装",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 48,
                "title": "为自己买一件礼物",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 49,
                "title": "送媳妇一个生日礼物",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 50,
                "title": "送世博一个生日礼物",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 51,
                "title": "送世扬一个生日礼物",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 52,
                "title": "买一套新餐具",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 53,
                "title": "买一个游戏机",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 54,
                "title": "改造一个卧室为榻榻米",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 55,
                "title": "彻底整理一次家里的书架",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 56,
                "title": "彻底整理一次家里所有的储物柜",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 57,
                "title": "完成六次家庭分享",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 58,
                "title": "在家做12次饭",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 59,
                "title": "组织一次Home Party",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 60,
                "title": "组织一次家庭联谊野游",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 61,
                "title": "组织一次高中同学聚会",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 62,
                "title": "组织或参加一次朋友聚会",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 63,
                "title": "加入三个协会联盟俱乐部等行业组织",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 64,
                "title": "参加六次行业会议",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 65,
                "title": "在行业会议中发表一次演讲或论坛发言",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 66,
                "title": "约三位老同学吃饭聊天",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 67,
                "title": "约三位老同事吃饭聊天",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 68,
                "title": "约三位老朋友吃饭聊天",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 69,
                "title": "认识三位新朋友",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 70,
                "title": "发50次朋友圈",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 71,
                "title": "组织一次部门年度会议",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 72,
                "title": "完成一次部门全员1对1",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 73,
                "title": "组织一次部门全员团建",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 74,
                "title": "组织一次跨部门中层团建",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 75,
                "title": "组织一次直接汇报点出游",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 76,
                "title": "完成一次公司级别的培训课程",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 77,
                "title": "完成一次部门级别的培训课程",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 78,
                "title": "邀请外部专家做三次讲座",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 79,
                "title": "完成三次对外公司的分享讲座",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 80,
                "title": "组织一次hackathon",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 81,
                "title": "独自做五次code review",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 82,
                "title": "独自做一个技术项目",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 83,
                "title": "完成5个数据中台项目",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 84,
                "title": "完成5个技术中台项目",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 85,
                "title": "完成5个业务中台项目",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 86,
                "title": "完成5个部门工作台",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 87,
                "title": "完成数据权限控制项目",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 88,
                "title": "写30篇公众号文章",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 89,
                "title": "吃三家未吃过的驻京办餐厅",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 90,
                "title": "吃三家大众点评必吃榜餐厅",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 91,
                "title": "吃一家大众点评黑珍珠餐厅",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 92,
                "title": "通关一个新游戏",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 93,
                "title": "回顾一个老游戏",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 94,
                "title": "看一部电视剧",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 95,
                "title": "看一部纪录片",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 96,
                "title": "看三部未看过的豆瓣TOP250电影",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 97,
                "title": "去影院看一次小众影片",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 98,
                "title": "在豆瓣写10篇影评",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 99,
                "title": "拍一套正装照+证件照",
                "progress": 0,
                "ctime": "",
                "notes": []
            },
            {
                "id": 100,
                "title": "拍一套全家照",
                "progress": 0,
                "ctime": "",
                "notes": []
            }
        ];

        //统计各组数量和整体进度
        var total_count = data.length;
        var completed_count = 0;
        var total_progress = 0;
        for (var i = 0; i < data.length; i++) {
            if (data[i].progress == 100) {
                completed_count++;
            }
            total_progress += data[i].progress;
        }

        var uncompleted_count = total_count - completed_count;
        document.getElementById("btn0").innerHTML += "(" + total_count + ")";
        document.getElementById("btn1").innerHTML += "(" + uncompleted_count + ")";
        document.getElementById("btn2").innerHTML += "(" + completed_count + ")";

        total_progress = (total_progress / 100).toFixed(2);
        var obj_tp = document.getElementById("total_progress");
        obj_tp.style.backgroundSize = total_progress + "% 100%";
        obj_tp.innerHTML = total_progress + "%";


        var lastTab = 1;

        function show(type) {
            if (type == 1) {
                data.sort(function (a, b) {
                    if (b.progress == a.progress) {
                        return a.id - b.id;
                    } else {
                        return b.progress - a.progress;
                    }
                });

            } else if (type == 2) {
                data.sort(function (a, b) {
                    return b.ctime.localeCompare(a.ctime);
                });

            } else {
                data.sort(function (a, b) {
                    return a.id - b.id;
                });

            }

            document.getElementById("btn" + lastTab).className = "";
            document.getElementById("btn" + type).className = "cur";
            lastTab = type;

            var list = document.getElementById("list");
            list.innerHTML = "";
            for (var i = 0; i < data.length; i++) {
                if (
                    (type == 1 && data[i].progress == 100) ||
                    (type == 2 && data[i].progress != 100)
                ) {
                    continue;
                }
                var item = document.createElement("li");

                //进度条
                var prog = document.createElement("span");
                prog.style.backgroundSize = data[i].progress + "% 100%";
                prog.innerHTML = data[i].progress == 100 ? data[i].ctime : data[i].progress + "%"
                item.appendChild(prog);

                //文字
                var title = document.createElement("strong");
                title.innerHTML = data[i].title;
                item.appendChild(title);

                //备注
                if (data[i].notes.length > 0) {
                    item.className = "note";
                    var ul = document.createElement("ul");
                    for (var j = 0; j < data[i].notes.length; j++) {
                        var li = document.createElement("li");
                        li.innerHTML = data[i].notes[j];
                        ul.appendChild(li);
                    }

                    item.appendChild(ul);

                    title.onclick = function () {
                        var s = this.parentNode.getElementsByTagName("ul")[0];
                        if (s.style.display == "block") {
                            s.style.display = "none";
                        } else {
                            s.style.display = "block";
                        }
                    };
                }

                list.appendChild(item);
            }
        }

        show(lastTab);
    </script>
</body>

</html>