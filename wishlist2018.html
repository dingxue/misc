<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>2018 wish list</title>
    <style>
    * {
        font-family: "Courier New";
        font-size: 16px;
        line-height: 1.5em;
        margin: 0;
        padding: 0;
    }
    body {
        padding: 10px 40px;
    }
    span {
        display: inline-block;
        width: 100px;
        height: 20px;
        margin-right: 10px;
        border: 1px solid #21B56F;
        background: linear-gradient(#66f9cf, #66f9cf) no-repeat;
        vertical-align: text-bottom;
        text-align: center;
        color: #228844;
        font-size: 12px;
    }
    #op {
        border-bottom: 1px solid #ccc;
        padding-left: 20px;
    }
    #op span {
        width: 200px;
    }
    button {
        width: 120px;
        border: 1px solid #ccc;
        background-color: #eee;
        cursor: pointer;
        margin-bottom: -2px;
        padding-top: 6px;
        outline: none;
    }
    button.cur {
        border-bottom-color: #fff;
        background-color: #fff;
    }
    li {
        list-style: none;
        margin: 10px 20px;
    }
    li strong {
        font-weight: normal;
    }
    li.note strong {
        cursor: pointer;
    }
    li ul {
        border-left: 2px solid #ccc;
        margin-left: 120px;
        display: none;
    }
    li li {
        font-size: 14px;
        line-height: 1em;
    }
    </style>
</head>

<body>
    <div id="op">
        <button id="btn0" onclick="show(0)">全部</button>
        <button id="btn1" onclick="show(1)">待完成</button>
        <button id="btn2" onclick="show(2)">已完成</button>
        <span id="total_progress"></span>
    </div>
    <ul id="list"></ul>
    <script>
    var data = [{
            "id": 1,
            "title": "全家去一次草原天路",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 2,
            "title": "全家来一次温泉之旅",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 3,
            "title": "全家去一次大兴野生动物园",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 4,
            "title": "全家去一次游乐场",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 5,
            "title": "去颐和园划一次船",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 6,
            "title": "去奥森看一次向日葵",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 7,
            "title": "去天安门广场看一次升旗",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 8,
            "title": "从钉子塔上俯看北京城",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 9,
            "title": "从景山公园俯看紫禁城",
            "progress": 100,
            "ctime": "2018-02-17",
            "notes": [
                "0217: 达成"
            ]
        },
        {
            "id": 10,
            "title": "去一次十三陵",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 11,
            "title": "去一次国家图书馆",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 12,
            "title": "去一次青海湖",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 13,
            "title": "独自去一次未曾去过的城市",
            "progress": 100,
            "ctime": "2018-03-14",
            "notes": [
                "0314: 大同"
            ]
        },
        {
            "id": 14,
            "title": "坐一次天津之眼",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 15,
            "title": "看一次泰山日出",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 16,
            "title": "滑一次雪",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 17,
            "title": "到达北京所有的地铁终点站",
            "progress": 17.1,
            "ctime": "",
            "notes": [
                "0202: 13-西直门, 9-国家图书馆, 5-宋家庄, 亦庄线-宋家庄, 亦庄线-次渠 (5, 5/41)",
                "0228: 7-北京西站 (1, 6/41)",
                "0311: 8-南锣鼓巷 (1, 7/41)",
                "1-苹果园, 1-四惠东, 4-安河桥北, 4-天宫院, 5-天通苑北, 6-海淀五路居, 6-潞城, 7-焦化厂, 8-朱辛庄, 9-郭公庄, 13-东直门, 14-张郭庄, 14-西局, 14-北京南站, 14-善各庄, 15-清华东路西口, 15-俸伯, 16-北安河, 16-西苑, 八通线-四惠, 八通线-土桥, 昌平线-昌平西山口, 昌平线-西二旗, 房山线-郭公庄, 房山线-阎村东, 机场线-东直门, 机场线-T2航站楼, 机场线-T3航站楼, S1线-石厂, S1线-金安桥, 燕房线-燕山, 燕房线-阎村东, 西郊线-香山, 西郊线-巴沟"
            ]
        },
        {
            "id": 18,
            "title": "跑步500公里",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 19,
            "title": "学会游泳",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 20,
            "title": "学会围棋",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 21,
            "title": "练完一本字帖",
            "progress": 5,
            "ctime": "",
            "notes": [
                "0105: 购买用具和字帖",
            ]
        },
        {
            "id": 22,
            "title": "读完20本书",
            "progress": 65,
            "ctime": "",
            "notes": [
                "0106: 《商战》杰克•特劳特/阿尔•里斯",
                "0116: 《血腥的盛唐1》王觉仁",
                "0121: 《血腥的盛唐2》王觉仁",
                "0128: 《血腥的盛唐3》王觉仁",
                "0204: 《血腥的盛唐4》王觉仁",
                "0211: 《血腥的盛唐5》王觉仁",
                "0215: 《血腥的盛唐6》王觉仁",
                "0223: 《血腥的盛唐7》王觉仁",
                "0308: 《乌合之众》古斯塔夫・勒庞",
                "0323: 《斗罗大陆》唐家三少",
                "0326: 《半小时漫画中国史》二混子",
                "0401: 《人间失格》太宰治",
                "0404: 《把时间浪费在好玩的事情上》古典",
            ]
        },
        {
            "id": 23,
            "title": "读完《道德经》",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 24,
            "title": "读一本心理学书籍",
            "progress": 100,
            "ctime": "2018-03-08",
            "notes": [
                "0224: 《乌合之众》古斯塔夫・勒庞，0%-7%",
                "0225: 《乌合之众》古斯塔夫・勒庞，7%-13%",
                "0226: 《乌合之众》古斯塔夫・勒庞，13%-23%",
                "0227: 《乌合之众》古斯塔夫・勒庞，23%-28%",
                "0228: 《乌合之众》古斯塔夫・勒庞，28%-39%",
                "0301: 《乌合之众》古斯塔夫・勒庞，39%-43%",
                "0302: 《乌合之众》古斯塔夫・勒庞，43%-56%",
                "0303: 《乌合之众》古斯塔夫・勒庞，56%-62%",
                "0304: 《乌合之众》古斯塔夫・勒庞，62%-66%",
                "0305: 《乌合之众》古斯塔夫・勒庞，66%-73%",
                "0306: 《乌合之众》古斯塔夫・勒庞，73%-79%",
                "0307: 《乌合之众》古斯塔夫・勒庞，79%-87%",
                "0308: 《乌合之众》古斯塔夫・勒庞，87%-100%",
            ]
        },
        {
            "id": 25,
            "title": "读一本技术书籍",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 26,
            "title": "读一部网络小说",
            "progress": 100,
            "ctime": "2018-03-23",
            "notes": [
                "0309: 《斗罗大陆》唐家三少，0%-1%",
                "0310: 《斗罗大陆》唐家三少，1%-6%",
                "0311: 《斗罗大陆》唐家三少，6%-12%",
                "0312: 《斗罗大陆》唐家三少，12%-18%",
                "0313: 《斗罗大陆》唐家三少，18%-26%",
                "0314: 《斗罗大陆》唐家三少，26%-31%",
                "0315: 《斗罗大陆》唐家三少，31%-37%",
                "0316: 《斗罗大陆》唐家三少，37%-53%",
                "0317: 《斗罗大陆》唐家三少，53%-58%",
                "0318: 《斗罗大陆》唐家三少，58%-62%",
                "0319: 《斗罗大陆》唐家三少，62%-65%",
                "0320: 《斗罗大陆》唐家三少，65%-70%",
                "0321: 《斗罗大陆》唐家三少，70%-79%",
                "0322: 《斗罗大陆》唐家三少，79%-90%",
                "0323: 《斗罗大陆》唐家三少，90%-100%",
            ]
        },
        {
            "id": 27,
            "title": "在豆瓣写三篇书评",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 28,
            "title": "参加一次线下读书会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 29,
            "title": "参加一次正式的管理培训课程",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 30,
            "title": "完成一门在线课程",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 31,
            "title": "学一门新编程语言",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 32,
            "title": "做一次全面体检",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 33,
            "title": "点一次痣",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 34,
            "title": "体重下降到77.5以下（BMI24以下）",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 35,
            "title": "带世博看一次儿童剧",
            "progress": 100,
            "ctime": "2018-02-21",
            "notes": [
                "0221: 多媒体全景探险儿童剧《海底小纵队3:惊涛骇浪》北展剧场"
            ]
        },
        {
            "id": 36,
            "title": "带世博去影院看一次电影",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 37,
            "title": "带世博去听一次天文馆讲座",
            "progress": 100,
            "ctime": "2018-01-20",
            "notes": [
                "0120: 《2018年天象》"
            ]
        },
        {
            "id": 38,
            "title": "带世博去野外看一次银河",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 39,
            "title": "带世博去一次人文类博物馆",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 40,
            "title": "和世博完成一本书的亲子阅读",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 41,
            "title": "带世扬看一次儿童剧",
            "progress": 100,
            "ctime": "2018-02-21",
            "notes": [
                "0221: 多媒体全景探险儿童剧《海底小纵队3:惊涛骇浪》北展剧场"
            ]
        },
        {
            "id": 42,
            "title": "带世扬去影院看一次电影",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 43,
            "title": "带世扬去一次海洋馆",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 44,
            "title": "带世扬去一次自然类博物馆",
            "progress": 100,
            "ctime": "2018-02-19",
            "notes": [
                "0219: 中国古动物馆"
            ]
        },
        {
            "id": 45,
            "title": "和世扬完成一本书的亲子阅读",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 46,
            "title": "和媳妇去一次酒吧",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 47,
            "title": "和媳妇吃一次高大上西餐",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 48,
            "title": "和媳妇看一次话剧/舞台剧",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 49,
            "title": "和媳妇听一次相声现场",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 50,
            "title": "和媳妇听一次演唱会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 51,
            "title": "和媳妇听一次音乐会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 52,
            "title": "为自己买一件礼物",
            "progress": 100,
            "ctime": "2018-04-03",
            "notes": [
                "0403: DJI Mavic Air"
            ]
        },
        {
            "id": 53,
            "title": "送媳妇一个生日礼物",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 54,
            "title": "送世博一个生日礼物",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 55,
            "title": "送世扬一个生日礼物",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 56,
            "title": "买一个新洗衣机",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 57,
            "title": "买一套新餐具",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 58,
            "title": "买一个新路由器",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 59,
            "title": "买一个游戏机",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 60,
            "title": "改造一个卧室为榻榻米",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 61,
            "title": "彻底整理一次家里的书架",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 62,
            "title": "彻底整理一次家里所有的储物柜",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 63,
            "title": "完成五次家庭分享",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 64,
            "title": "组织一次Home Party",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 65,
            "title": "组织一次家庭联谊野游",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 66,
            "title": "认识五层所有的住户",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 67,
            "title": "组织一次高中同学聚会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 68,
            "title": "组织初中毕业二十年聚会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 69,
            "title": "组织或参加一次朋友聚会",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 70,
            "title": "参加一次技术行业会议",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 71,
            "title": "参加一次企业服务行业会议",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 72,
            "title": "约三位老同学吃饭聊天",
            "progress": 33.3,
            "ctime": "",
            "notes": [
                "0311: 大学-杨丽",
            ]
        },
        {
            "id": 73,
            "title": "约三位老同事吃饭聊天",
            "progress": 100,
            "ctime": "2018-04-10",
            "notes": [
                "0122: 当当-毛倩",
                "0307: 当当-刘尚堃",
                "0410: 大麦-苏建辉"
            ]
        },
        {
            "id": 74,
            "title": "约三位老朋友吃饭聊天",
            "progress": 33.3,
            "ctime": "",
            "notes": [
                "0211: 张大磊",
            ]
        },
        {
            "id": 75,
            "title": "结识三位新朋友",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 76,
            "title": "发三次朋友圈",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 77,
            "title": "完成一次部门全员1对1",
            "progress": 0,
            "ctime": "",
            "notes": [
                "A00008-蒋建勇, A00011-张全乐, A00058-王思佳, A00062-宋海瑞, A00122-陈帅, A00196-赵红如, A00211-张贵平",
                "A00304-李崇, A00317-王树叶, A00341-张亚军, A00342-崔帅鸣, A00349-尹时雨, A00353-焦硕, A00363-赵亚盟",
                "A00373-韩录, A00374-刘孟华, A00389-高小平, A00398-孙健, A00404-张富强, A00410-王森, A00435-金翠竹",
                "A00507-曾斌斌, A00509-杨雁迪, A00524-肖凡, A00543-刘聚森, A00595-游艳, A00616-蒲浩然, A00617-黄斌",
                "A00627-张宏利, A00628-王卫, A00629-张岩, A00646-杜奕臻, A00652-刘佩佩, A00672-霍亚斌, A00676-李帅",
                "A00688-张殿森, A00702-敦克彪, A00707-李栋栋, A00718-张恩龙, A00731-徐尚进, A00733-陈雪莲, A00735-赵安然",
                "A00741-周东闯, A00746-杜永彬, A00770-韩建伟, A00791-李岳群, A00826-位东阁, A00836-耿涛, A00837-李亚婷",
                "A00844-周杰, A00852-孙辉, A00854-凡磊, A00861-李晓萌"
            ]
        },
        {
            "id": 78,
            "title": "完成一次部门全员团建",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 79,
            "title": "完成一次跨部门中层团建",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 80,
            "title": "组织一次技术管理成员出游",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 81,
            "title": "完成一门公司级别的培训课程",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 82,
            "title": "完成一门部门级别的培训课程",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 83,
            "title": "邀请外部专家做一次技术讲座",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 84,
            "title": "组织一次hackathon",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 85,
            "title": "独自做五次code review",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 86,
            "title": "独自做一个技术项目",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 87,
            "title": "为公司内刊写三篇文章",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 88,
            "title": "吃三个省级驻京办餐厅",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 89,
            "title": "吃一家老北京八大楼",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 90,
            "title": "看一部电视剧",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 91,
            "title": "看一部纪录片",
            "progress": 100,
            "ctime": "2018-03-26",
            "notes": [
                "0215: 《河西走廊》第一集",
                "0218: 《河西走廊》第二集",
                "0219: 《河西走廊》第三集",
                "0222: 《河西走廊》第四集、第五集",
                "0223: 《河西走廊》第六集",
                "0309: 《河西走廊》第七集",
                "0311: 《河西走廊》第八集",
                "0325: 《河西走廊》第九集",
                "0326: 《河西走廊》第十集",
            ]
        },
        {
            "id": 92,
            "title": "看三部未看过的豆瓣TOP250电影",
            "progress": 100,
            "ctime": "2018-03-09",
            "notes": [
                "0108: 《纵横四海》周润发/张国荣",
                "0114: 《美丽人生》罗伯托·贝尼尼/尼可莱塔·布拉斯基",
                "0309: 《看不见的客人》马里奥·卡萨斯/阿娜·瓦格纳"
            ]
        },
        {
            "id": 93,
            "title": "去影院看一次非大片",
            "progress": 100,
            "ctime": "2018-01-21",
            "notes": [
                "0121: 《大寒》张双兵/鲁园"
            ]
        },
        {
            "id": 94,
            "title": "在豆瓣写三篇影评",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 95,
            "title": "COC所有建筑满级",
            "progress": 61.1,
            "ctime": "",
            "notes": [
                "0101: 本期   0，累计   0，剩余 782，总计 782",
                "0111: 本期  36，累计  36，剩余 746，总计 782",
                "0121: 本期  53，累计  89，剩余 693，总计 782",
                "0201: 本期  58，累计 147，剩余 635，总计 782",
                "0211: 本期  50，累计 197，剩余 585，总计 782",
                "0221: 本期  63，累计 260，剩余 522，总计 782",
                "0301: 本期  46，累计 306，剩余 476，总计 782",
                "0304: 本期  12，累计 318，剩余 484，总计 802",
                "0306: 本期   8，累计 326，剩余 535，总计 861",
                "0311: 本期  36，累计 362，剩余 499，总计 861",
                "0321: 本期  46，累计 408，剩余 453，总计 861",
                "0401: 本期  66，累计 474，剩余 387，总计 861",
                "0411: 本期  52，累计 526，剩余 335，总计 861",
            ]
        },
        {
            "id": 96,
            "title": "COC任意一王满级",
            "progress": 100,
            "ctime": "2018-03-18",
            "notes": [
                "0101: 女王33，男王28，咏王12",
                "0102: 女王33，男王29，咏王12",
                "0105: 女王33，男王29，咏王13",
                "0109: 女王34，男王29，咏王13",
                "0111: 女王34，男王29，咏王14",
                "0117: 女王34，男王30，咏王14",
                "0120: 女王34，男王30，咏王15",
                "0122: 女王35，男王30，咏王15",
                "0201: 女王36，男王30，咏王15",
                "0206: 女王37，男王30，咏王15",
                "0214: 女王38，男王30，咏王15",
                "0219: 女王39，男王30，咏王16",
                "0226: 女王40，男王30，咏王17",
                "0303: 女王41，男王30，咏王17",
                "0305: 女王41，男王30，咏王18",
                "0309: 女王42，男王30，咏王18",
                "0311: 女王42，男王30，咏王19",
                "0318: 女王42，男王30，咏王20"
            ]
        },
        {
            "id": 97,
            "title": "通关一个单机游戏",
            "progress": 5,
            "ctime": "",
            "notes": [
                "0104: 下载Find Paradise",
            ]
        },
        {
            "id": 98,
            "title": "办一个新的身份证",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 99,
            "title": "拍一套正装照",
            "progress": 0,
            "ctime": "",
            "notes": []
        },
        {
            "id": 100,
            "title": "拍一套全家照",
            "progress": 0,
            "ctime": "",
            "notes": []
        }
    ];

    //统计各组数量和整体进度
    var total_count = data.length;
    var completed_count = 0;
    var total_progress = 0;
    for (var i = 0; i < data.length; i++) {
        if (data[i].progress == 100) {
            completed_count++;
        }
        total_progress += data[i].progress;
    }

    var uncompleted_count = total_count - completed_count;
    document.getElementById("btn0").innerHTML += "(" + total_count + ")";
    document.getElementById("btn1").innerHTML += "(" + uncompleted_count + ")";
    document.getElementById("btn2").innerHTML += "(" + completed_count + ")";

    total_progress = (total_progress / 100).toFixed(2);
    var obj_tp = document.getElementById("total_progress");
    obj_tp.style.backgroundSize = total_progress + "% 100%";
    obj_tp.innerHTML = total_progress + "%";


    var lastTab = 1;

    function show(type) {
        if (type == 1) {
            data.sort(function(a, b) {
                if (b.progress == a.progress) {
                    return a.id - b.id;
                } else {
                    return b.progress - a.progress;
                }
            });

        } else if (type == 2) {
            data.sort(function(a, b) {
                return b.ctime.localeCompare(a.ctime);
            });

        } else {
            data.sort(function(a, b) {
                return a.id - b.id;
            });

        }

        document.getElementById("btn" + lastTab).className = "";
        document.getElementById("btn" + type).className = "cur";
        lastTab = type;

        var list = document.getElementById("list");
        list.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            if (
                (type == 1 && data[i].progress == 100) ||
                (type == 2 && data[i].progress != 100)
            ) {
                continue;
            }
            var item = document.createElement("li");

            //进度条
            var prog = document.createElement("span");
            prog.style.backgroundSize = data[i].progress + "% 100%";
            prog.innerHTML = data[i].progress == 100 ? data[i].ctime : data[i].progress + "%"
            item.appendChild(prog);

            //文字
            var title = document.createElement("strong");
            title.innerHTML = data[i].title;
            item.appendChild(title);

            //备注
            if (data[i].notes.length > 0) {
                item.className = "note";
                var ul = document.createElement("ul");
                for (var j = 0; j < data[i].notes.length; j++) {
                    var li = document.createElement("li");
                    li.innerHTML = data[i].notes[j];
                    ul.appendChild(li);
                }

                item.appendChild(ul);

                title.onclick = function() {
                    var s = this.parentNode.getElementsByTagName("ul")[0];
                    if (s.style.display == "block") {
                        s.style.display = "none";
                    } else {
                        s.style.display = "block";
                    }
                };
            }

            list.appendChild(item);
        }
    }

    show(lastTab);
    </script>
</body>

</html>